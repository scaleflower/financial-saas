# 模块设计状态清单

## 📊 总体概览

- **总模块数**: 15个
- **总功能点数**: 122个
- **已完成详细设计**: 1个模块（报销管理）
- **待详细设计**: 14个模块

---

## ✅ 已完成详细设计的模块

### 模块7：报销管理 (15功能点) ✅
**优先级**: P0  
**状态**: ✅ 已完成  
**文档**: `.sisyphus/drafts/报销管理详细设计.md`  
**设计内容**:
- 7张数据库表
- 6种报销类型详细设计（类型2差旅报销最复杂）
- 5个主要功能页面设计
- 动态表单渲染引擎（Vue 3）
- 插件化架构设计
- 完整的前后端API设计
- 业务流程时序图

---

## 📝 需要详细设计的模块

### 🔴 P0核心功能（最高优先级）

#### 模块8：借款管理 (8功能点) 🔴 P0
**状态**: 📝 待设计  
**功能点**:
- LOAN-001: 借款单创建
- LOAN-002: 借款单草稿
- LOAN-003: 借款单提交
- LOAN-004: 借款单查询
- LOAN-005: 借款单审批
- LOAN-006: 借款单发放
- LOAN-007: 借款还款跟踪
- LOAN-008: 借款统计报表

**核心功能**: 员工借款申请、审批、发放、还款跟踪

#### 模块9：还款管理 (7功能点) 🔴 P0
**状态**: 📝 待设计  
**功能点**:
- REPAY-001: 还款单创建
- REPAY-002: 还款单草稿
- REPAY-003: 还款单提交
- REPAY-004: 还款单查询
- REPAY-005: 还款单审批
- REPAY-006: 还款单结算
- REPAY-007: 还款统计报表

**核心功能**: 借款还款处理、冲销、结算

#### 模块10：工作流管理 (6功能点) 🔴 P0
**状态**: 📝 待设计  
**功能点**:
- WF-001: 流程定义管理
- WF-002: 流程实例查询
- WF-003: 任务管理
- WF-004: 审批历史查询
- WF-005: 流程监控
- WF-006: 流程设计器

**核心功能**: 工作流引擎集成、审批流程管理

#### 模块11：通知管理 (5功能点) 🔴 P0
**状态**: 📝 待设计  
**功能点**:
- NOTIF-001: 通知发送
- NOTIF-002: 通知查询
- NOTIF-003: 通知设置
- NOTIF-004: 钉钉通知
- NOTIF-005: 通知模板管理

**核心功能**: 系统通知、审批通知、钉钉集成

#### 模块12：审计日志 (5功能点) 🔴 P0
**状态**: 📝 待设计  
**功能点**:
- AUDIT-001: 操作日志记录
- AUDIT-002: 操作日志查询
- AUDIT-003: 操作日志统计
- AUDIT-004: 登录日志
- AUDIT-005: 数据变更追踪

**核心功能**: 操作审计、安全监控

---

### 🟡 基础管理模块（有数据库设计，需详细功能设计）

#### 模块1：租户管理 (4功能点) 🟡 P0
**状态**: 📝 数据库已完成，待详细功能设计  
**功能点**:
- TENANT-001: 租户注册
- TENANT-002: 租户信息管理
- TENANT-003: 租户配额管理
- TENANT-004: 租户统计报表

**核心功能**: 多租户注册、管理、配额控制

#### 模块2：用户管理 (8功能点) 🟡 P0
**状态**: 📝 数据库已完成，待详细功能设计  
**功能点**:
- USER-001: 用户注册
- USER-002: 用户信息管理
- USER-003: 用户登录
- USER-004: 密码管理
- USER-005: 钉钉集成
- USER-006: 用户组织管理
- USER-007: 用户角色管理
- USER-008: 用户查询与导出

**核心功能**: 用户CRUD、认证授权、钉钉集成

#### 模块3：组织管理 (6功能点) 🟡 P0
**状态**: 📝 数据库已完成，待详细功能设计  
**功能点**:
- ORG-001: 组织创建
- ORG-002: 组织信息管理
- ORG-003: 组织成员管理
- ORG-004: 组织负责人管理
- ORG-005: 组织权限管理
- ORG-006: 组织树可视化

**核心功能**: 组织树管理、层级结构、成员管理

#### 模块4：角色权限管理 (10功能点) 🟡 P0
**状态**: 📝 数据库已完成，待详细功能设计  
**功能点**:
- ROLE-001 ~ ROLE-004: 角色管理
- PERM-001 ~ PERM-006: 权限管理

**核心功能**: RBAC权限体系、数据权限、菜单权限、API权限

#### 模块5：项目管理 (6功能点) 🟡 P0
**状态**: 📝 数据库已完成，待详细功能设计  
**功能点**:
- PROJ-001: 项目创建
- PROJ-002: 项目信息管理
- PROJ-003: 项目成员管理
- PROJ-004: 项目预算管理
- PROJ-005: 项目进度管理
- PROJ-006: 项目查询与统计

**核心功能**: 项目CRUD、成员管理、预算控制

#### 模块6：基础数据管理 (8功能点) 🟡 P0
**状态**: 📝 数据库已完成，待详细功能设计  
**功能点**:
- BASE-001: 币种管理
- BASE-002: 汇率管理
- BASE-003: 报销类型管理
- BASE-004: 费用类型管理
- BASE-005: 补贴标准管理
- BASE-006: 城市管理
- BASE-007: 项目类型管理
- BASE-008: 基础数据查询

**核心功能**: 基础数据维护、数据导入

---

### 🟢 插件化功能模块

#### 模块13：表单管理 (6功能点) 🟢 P1
**状态**: 📝 待设计  
**功能点**:
- FORM-001: 表单配置管理
- FORM-002: 表单字段配置
- FORM-003: 表单验证规则
- FORM-004: 表单动作配置
- FORM-005: 表单预览
- FORM-006: 表单版本管理

**核心功能**: 动态表单配置、表单版本管理

#### 模块14：插件管理 (6功能点) 🟢 P1
**状态**: 📝 待设计  
**功能点**:
- PLUGIN-001: 插件注册
- PLUGIN-002: 插件管理
- PLUGIN-003: 插件配置
- PLUGIN-004: 插件依赖管理
- PLUGIN-005: 插件市场
- PLUGIN-006: 插件热加载

**核心功能**: 插件生命周期管理、热加载

#### 模块15：API管理 (5功能点) 🟢 P2
**状态**: 📝 待设计  
**功能点**:
- API-001: API注册
- API-002: API扩展点
- API-003: API版本管理
- API-004: API调用日志
- API-005: API测试工具

**核心功能**: API注册、版本管理、测试工具

---

## 🎯 建议设计顺序

### 第一批：核心业务模块（P0）
1. ✅ 模块7：报销管理（已完成）
2. 🔴 模块8：借款管理
3. 🔴 模块9：还款管理
4. 🔴 模块10：工作流管理

**原因**: 这三个模块是核心业务功能，依赖关系：
- 借款管理 ← 独立，可以并行设计
- 还款管理 ← 依赖借款管理（需要关联借款）
- 工作流管理 ← 独立，但为借款/还款提供审批支持

### 第二批：基础管理模块（P0，有数据库设计）
5. 🟡 模块1：租户管理
6. 🟡 模块2：用户管理
7. 🟡 模块3：组织管理
8. 🟡 模块4：角色权限管理

**原因**: 这是系统的基础设施，需要优先完成，为业务模块提供支撑

### 第三批：通知审计（P0）
9. 🔴 模块11：通知管理
10. 🔴 模块12：审计日志

**原因**: 提供系统监控和安全保障

### 第四批：其他基础模块（P0）
11. 🟡 模块5：项目管理
12. 🟡 模块6：基础数据管理

**原因**: 为业务模块提供配置支撑

### 第五批：插件化功能（P1/P2）
13. 🟢 模块13：表单管理
14. 🟢 模块14：插件管理
15. 🟢 模块15：API管理

**原因**: 这是插件化架构的支撑，可以在核心功能稳定后逐步完善

---

## 📌 当前建议

**下一步应该设计哪个模块？**

根据优先级和依赖关系，建议按以下顺序进行：

**选项A**: 模块8：借款管理
- 理由：独立的业务模块，与报销管理同级，都是核心功能
- 难度：中等，与报销管理类似，有参考价值

**选项B**: 模块10：工作流管理
- 理由：为借款、还款、报销提供审批流程支持，是底层基础设施
- 难度：较高，需要深入理解Flowable

**选项C**: 模块2：用户管理
- 理由：系统的基础，登录、认证都是必需的
- 难度：中等，数据库设计已完成

**选项D**: 模块11：通知管理
- 理由：独立的模块，为审批流程提供通知支持
- 难度：较低，功能相对独立

**我的建议**: 从 **模块8：借款管理** 开始，因为：
1. 与刚完成的报销管理类似，设计思路可以复用
2. 是核心业务功能，优先级最高
3. 独立性强，不依赖其他模块

请告诉我您希望从哪个模块开始详细设计？
