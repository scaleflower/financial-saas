# å·¥ä½œæµå¼•æ“é€‰æ‹©åˆ†æ

## ğŸ“Š æµç¨‹å¤æ‚åº¦è¯„ä¼°

### æŠ¥é”€å®¡æ‰¹æµç¨‹å¤æ‚åº¦

| ç‰¹æ€§ | éœ€æ±‚ | å¤æ‚åº¦ |
|------|------|--------|
| èŠ‚ç‚¹æ•°é‡ | 7ä¸ªï¼ˆå‘˜å·¥æäº¤ã€é¡¹ç›®ç»ç†ã€éƒ¨é—¨ç»ç†ã€æ€»ç»ç†ã€è´¢åŠ¡ã€å‡ºçº³ã€ç»“æŸï¼‰ | ğŸŸ¡ ä¸­ç­‰ |
| æ¡ä»¶åˆ†æ”¯ | 2ä¸ªï¼ˆé‡‘é¢åˆ¤æ–­ã€ç»ç†åˆ¤æ–­ï¼‰ | ğŸŸ¢ ç®€å• |
| å¹¶è¡Œç½‘å…³ | 0ä¸ª | ğŸŸ¢ æ—  |
| å­æµç¨‹ | 0ä¸ª | ğŸŸ¢ æ—  |
| å¾ªç¯ | 0ä¸ª | ğŸŸ¢ æ—  |
| åŠ¨æ€å®¡æ‰¹äºº | éœ€è¦ï¼ˆé¡¹ç›®ç»ç†ã€éƒ¨é—¨ç»ç†ã€æ€»ç»ç†ï¼‰ | ğŸŸ¡ ä¸­ç­‰ |
| è‡ªåŠ¨å®¡æ‰¹ | éœ€è¦ï¼ˆé¡¹ç›®ç»ç†=éƒ¨é—¨ç»ç†æ—¶ï¼‰ | ğŸŸ¡ ä¸­ç­‰ |
| è¶…æ—¶å¤„ç† | éœ€è¦ | ğŸŸ¡ ä¸­ç­‰ |
| æµç¨‹å˜é‡ | 20+ä¸ª | ğŸŸ¡ ä¸­ç­‰ |
| å®¡æ‰¹å†å² | éœ€è¦ | ğŸŸ¢ ç®€å• |
| æµç¨‹ç›‘æ§ | éœ€è¦ | ğŸŸ¡ ä¸­ç­‰ |

**æ€»ä½“å¤æ‚åº¦**: ğŸŸ¡ ä¸­ç­‰åä½

---

## ğŸ¯ æ¨èæ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ1ï¼šCamunda 8 Community (æ¨è â­â­â­â­â­)

#### ä¼˜ç‚¹
1. âœ… **ç°ä»£åŒ–æ¶æ„** - åŸºäºZeebeäº‘åŸç”Ÿæ¶æ„
2. âœ… **æ€§èƒ½ä¼˜ç§€** - æ¯”Flowableå¿«30-50%
3. âœ… **Spring Booté›†æˆæä½³** - å¼€ç®±å³ç”¨
4. âœ… **APIè®¾è®¡ä¼˜é›…** - åŸºäºJava 8+, Lambdaå‹å¥½
5. âœ… **ç¤¾åŒºæ´»è·ƒ** - æ–‡æ¡£ä¸°å¯Œï¼Œæ•™ç¨‹å¤š
6. âœ… **å¯è§†åŒ–å·¥å…·** - Camunda Modelerï¼ˆå…è´¹ï¼‰
7. âœ… **ä»£ç é‡å°‘** - ç›¸æ¯”Flowableå‡å°‘30%ä»£ç 
8. âœ… **æ•°æ®åº“è¡¨ä¼˜åŒ–** - åªéœ€15å¼ è¡¨ï¼ˆFlowableéœ€25+å¼ ï¼‰
9. âœ… **æŒç»­ç»´æŠ¤** - ç‰ˆæœ¬è¿­ä»£å¿«ï¼ŒBugä¿®å¤åŠæ—¶

#### ç¼ºç‚¹
1. âš ï¸ **ç¤¾åŒºç‰ˆé™åˆ¶** - å¤šå®ä¾‹å¹¶è¡Œå—é™ï¼ˆæ‚¨çš„åœºæ™¯ä¸éœ€è¦ï¼‰
2. âš ï¸ **å­¦ä¹ æˆæœ¬** - éœ€è¦å­¦ä¹ BPMNæ¦‚å¿µ
3. âš ï¸ **æ•°æ®åº“è¡¨ç»“æ„** - ç›¸å¯¹å›ºå®šï¼Œè‡ªå®šä¹‰éš¾

#### é€‚ç”¨åœºæ™¯
- âœ… ä¸­å°å‹æµç¨‹ï¼ˆæ‚¨çš„åœºæ™¯å®Œç¾å¥‘åˆï¼‰
- âœ… éœ€è¦è‰¯å¥½Springé›†æˆ
- âœ… éœ€è¦å¯è§†åŒ–å·¥
- âœ… æ€§èƒ½è¦æ±‚é«˜
- âœ… éœ€è¦æŒç»­ç»´æŠ¤å’Œæ›´æ–°

#### ä¾èµ–é…ç½®
```xml
<dependency>
    <groupId>io.camunda</groupId>
    <artifactId>camunda-bom</artifactId>
    <version>8.3.0</version>
    <type>pom</type>
    <scope>import</scope>
</dependency>

<dependency>
    <groupId>io.camunda</groupId>
    <artifactId>camunda-external-task-client-spring</artifactId>
</dependency>

<dependency>
    <groupId>io.camunda</groupId>
    <artifactId>camunda-spring-boot-starter</artifactId>
</dependency>
```

#### ç®€å•ç¤ºä¾‹
```java
@RestController
@RequiredArgsConstructor
public class ReimbursementController {
    
    private final RuntimeService runtimeService;
    private final TaskService taskService;
    
    // å¯åŠ¨æµç¨‹
    @PostMapping("/reimbursement/start")
    public String startProcess(@RequestBody StartProcessDTO dto) {
        Map<String, Object> variables = Map.of(
            "transId", dto.getTransId(),
            "projectId", dto.getProjectId(),
            "deptId", dto.getDeptId(),
            "charge", dto.getCharge(),
            "transType", dto.getTransType()
        );
        
        ProcessInstance processInstance = runtimeService
            .createProcessInstanceByKey("reimbursementApprovalProcess")
            .businessKey(dto.getTransNo())
            .setVariables(variables)
            .execute();
        
        return processInstance.getId();
    }
    
    // å®Œæˆä»»åŠ¡
    @PostMapping("/task/{taskId}/complete")
    public void completeTask(
            @PathVariable String taskId,
            @RequestBody CompleteTaskDTO dto) {
        taskService.complete(taskId, Map.of(
            "approvalResult", dto.getApprovalResult(),
            "approvalComment", dto.getApprovalComment()
        ));
    }
    
    // æŸ¥è¯¢å¾…åŠ
    @GetMapping("/tasks/my")
    public List<Task> getMyTasks(@RequestParam Long userId) {
        return taskService.createTaskQuery()
            .taskAssignee(userId.toString())
            .orderByTaskCreateTime()
            .desc()
            .list();
    }
}
```

---

### æ–¹æ¡ˆ2ï¼šFlowable 7 (å¤‡é€‰ â­â­â­â­)

#### ä¼˜ç‚¹
1. âœ… **å®Œå…¨å¼€æºå…è´¹** - æ²¡æœ‰åŠŸèƒ½é™åˆ¶
2. âœ… **åŠŸèƒ½å¼ºå¤§** - æ”¯æŒæ‰€æœ‰BPMNç‰¹æ€§
3. âœ… **ç¤¾åŒºç‰ˆå®Œæ•´** - ç›¸æ¯”Camundaæ›´å®Œæ•´
4. âœ… **ä¸­æ–‡æ–‡æ¡£å¤š** - å›½å†…ä½¿ç”¨å¹¿æ³›
5. âœ… **å…¼å®¹Activiti** - è¿ç§»æˆæœ¬ä½
6. âœ… **ç”Ÿæ€ä¸°å¯Œ** - ç¬¬ä¸‰æ–¹æ’ä»¶å¤š

#### ç¼ºç‚¹
1. âš ï¸ **æ€§èƒ½ç•¥ä½** - æ¯”Camundaæ…¢30%
2. âš ï¸ **APIè®¾è®¡ä¼ ç»Ÿ** - åŸºäºJava 7é£æ ¼
3. âš ï¸ **æ•°æ®åº“è¡¨å¤š** - 25+å¼ è¡¨
4. âš ï¸ **é…ç½®å¤æ‚** - éœ€è¦æ›´å¤šé…ç½®
5. âš ï¸ **ä»£ç é‡å¤§** - ç›¸æ¯”Camundaå¤š30%ä»£ç 

#### é€‚ç”¨åœºæ™¯
- âœ… éœ€è¦å®Œæ•´çš„BPMNåŠŸèƒ½
- âœ… ä¼ä¸šçº§å¤æ‚æµç¨‹
- âœ… éœ€è¦å¤§é‡è‡ªå®šä¹‰
- âœ… éœ€è¦å…è´¹å®Œæ•´ç‰ˆ

#### ä¾èµ–é…ç½®
```xml
<dependency>
    <groupId>org.flowable</groupId>
    <artifactId>flowable-spring-boot-starter</artifactId>
    <version>7.0.1</version>
</dependency>
```

---

### æ–¹æ¡ˆ3ï¼šSpring State Machine (å¤‡é€‰ â­â­â­)

#### ä¼˜ç‚¹
1. âœ… **é›¶é¢å¤–ä¾èµ–** - SpringåŸç”Ÿ
2. âœ… **æ€§èƒ½æœ€ä¼˜** - æ— æ•°æ®åº“å¼€é”€
3. âœ… **å­¦ä¹ æˆæœ¬ä½** - æ¦‚å¿µç®€å•
4. âœ… **ä»£ç é‡æœ€å°‘** - åªéœ€è¦çŠ¶æ€å®šä¹‰

#### ç¼ºç‚¹
1. âŒ **åŠŸèƒ½å—é™** - åªæ”¯æŒç®€å•çŠ¶æ€æœº
2. âŒ **æ— å¯è§†åŒ–å·¥å…·** - éœ€è¦è‡ªå·±å®ç°
3. âŒ **å¤æ‚æµç¨‹éš¾å¤„ç†** - æ¡ä»¶åˆ†æ”¯ã€å¹¶è¡Œç½‘å…³éš¾å®ç°
4. âŒ **å®¡æ‰¹å†å²** - éœ€è¦è‡ªå·±è®¾è®¡
5. âŒ **ä»»åŠ¡è¶…æ—¶** - éœ€è¦è‡ªå·±å®ç°

#### é€‚ç”¨åœºæ™¯
- âœ… ç®€å•çš„3-5ä¸ªèŠ‚ç‚¹çš„æµç¨‹
- âœ… ä¸éœ€è¦æ¡ä»¶åˆ†æ”¯
- âœ… ä¸éœ€è¦å¯è§†åŒ–
- âœ… æ€§èƒ½è¦æ±‚æé«˜

#### ç®€å•ç¤ºä¾‹
```java
@Configuration
@EnableStateMachine
public class ReimbursementStateMachine extends StateMachineConfigurerAdapter<States, Events> {
    
    @Override
    public void configure(StateMachineStateConfigurer<States, Events> states) throws Exception {
        states
            .withStates()
            .initial(States.SUBMITTED)
            .state(States.PROJECT_MANAGER_APPROVAL)
            .state(States.DEPT_MANAGER_APPROVAL)
            .state(States.GENERAL_MANAGER_APPROVAL)
            .state(States.FINANCE_AUDIT)
            .state(States.CASHIER_PAYMENT)
            .end(States.SETTLED);
    }
    
    @Override
    public void configure(StateMachineTransitionConfigurer<States, Events> transitions) throws Exception {
        transitions
            .withExternal()
                .source(States.SUBMITTED).target(States.PROJECT_MANAGER_APPROVAL)
                .event(Events.SUBMIT)
            .and()
            .withExternal()
                .source(States.PROJECT_MANAGER_APPROVAL).target(States.DEPT_MANAGER_APPROVAL)
                .event(Events.APPROVE)
            .and()
            .withExternal()
                .source(States.PROJECT_MANAGER_APPROVAL).target(States.SUBMITTED)
                .event(Events.REJECT);
    }
}
```

**é—®é¢˜**ï¼šè¿™ç§æ–¹å¼å¾ˆéš¾å®ç°"é‡‘é¢åˆ¤æ–­ç½‘å…³"å’Œ"æ™ºèƒ½åˆ¤æ–­ç½‘å…³"ï¼

---

### æ–¹æ¡ˆ4ï¼šè½»é‡çº§è‡ªç ” (å¤‡é€‰ â­â­)

#### ä¼˜ç‚¹
1. âœ… **å®Œå…¨å¯æ§** - æ‰€æœ‰é€»è¾‘è‡ªå·±å®šä¹‰
2. âœ… **ä»£ç é‡å°‘** - åªéœ€è¦å‡ ç™¾è¡Œä»£ç 
3. âœ… **æ€§èƒ½æœ€ä¼˜** - æ— é¢å¤–å¼€é”€
4. âœ… **æ— å­¦ä¹ æˆæœ¬** - è‡ªå·±å†™çš„ä»£ç 

#### ç¼ºç‚¹
1. âŒ **å¼€å‘æˆæœ¬é«˜** - éœ€è¦è‡ªå·±å®ç°æ‰€æœ‰åŠŸèƒ½
2. âŒ **ç»´æŠ¤æˆæœ¬é«˜** - Bugã€ä¼˜åŒ–éƒ½è¦è‡ªå·±æ¥
3. âŒ **æ— å¯è§†åŒ–å·¥å…·** - éœ€è¦è‡ªå·±å¼€å‘
4. âŒ **æ— æ ‡å‡†** - å›¢é˜Ÿå…¶ä»–äººéš¾ç†è§£
5. âŒ **å¯é æ€§é£é™©** - è´¢åŠ¡ç³»ç»Ÿå¯¹ç¨³å®šæ€§è¦æ±‚æé«˜

#### è‡ªç ”æ–¹æ¡ˆè®¾è®¡

```java
// æµç¨‹çŠ¶æ€æšä¸¾
public enum ReimbursementState {
    DRAFT,           // è‰ç¨¿
    SUBMITTED,        // å·²æäº¤
    PROJECT_MANAGER,  // é¡¹ç›®ç»ç†å®¡æ‰¹
    DEPT_MANAGER,     // éƒ¨é—¨ç»ç†å®¡æ‰¹
    GENERAL_MANAGER,  // æ€»ç»ç†å®¡æ‰¹
    FINANCE_AUDIT,    // è´¢åŠ¡å®¡æ ¸
    CASHIER_PAYMENT,  // å‡ºçº³ä»˜æ¬¾
    SETTLED,          // å·²ç»“ç®—
    REJECTED          // å·²é©³å›
}

// æµç¨‹å¼•æ“æœåŠ¡
@Service
@RequiredArgsConstructor
public class ReimbursementWorkflowEngine {
    
    private final ReimbursementService reimbursementService;
    private final NotificationService notificationService;
    
    // æäº¤å®¡æ‰¹
    @Transactional
    public void submit(Long transId) {
        Trans trans = reimbursementService.getById(transId);
        trans.setState(ReimbursementState.PROJECT_MANAGER);
        
        // æŸ¥è¯¢é¡¹ç›®ç»ç†
        Long managerId = getProjectManager(trans.getProjectId());
        
        // ä¿å­˜å®¡æ‰¹è®°å½•
        saveApprovalRecord(transId, managerId, "é¡¹ç›®ç»ç†å®¡æ‰¹");
        
        // å‘é€é€šçŸ¥
        notificationService.sendApprovalNotification(managerId, trans);
    }
    
    // é¡¹ç›®ç»ç†å®¡æ‰¹
    @Transactional
    public void projectManagerApprove(Long transId, ApproveDTO dto) {
        Trans trans = reimbursementService.getById(transId);
        
        if (dto.isApproved()) {
            // åˆ¤æ–­é¡¹ç›®ç»ç†å’Œéƒ¨é—¨ç»ç†æ˜¯å¦ä¸ºåŒä¸€äºº
            Long projectManager = getProjectManager(trans.getProjectId());
            Long deptManager = getDeptManager(trans.getDeptId());
            
            if (projectManager.equals(deptManager)) {
                // è‡ªåŠ¨å®Œæˆéƒ¨é—¨ç»ç†å®¡æ‰¹
                trans.setState(ReimbursementState.FINANCE_AUDIT);
                saveApprovalRecord(transId, deptManager, "éƒ¨é—¨ç»ç†å®¡æ‰¹(è‡ªåŠ¨)");
                
                // é‡‘é¢åˆ¤æ–­
                if (trans.getCharge().compareTo(getThreshold(trans.getTransType())) >= 0) {
                    trans.setState(ReimbursementState.GENERAL_MANAGER);
                    Long gmId = getGeneralManager();
                    saveApprovalRecord(transId, gmId, "æ€»ç»ç†å®¡æ‰¹");
                    notificationService.sendApprovalNotification(gmId, trans);
                } else {
                    saveApprovalRecord(transId, getFinanceApprover(), "è´¢åŠ¡å®¡æ ¸");
                    notificationService.sendApprovalNotification(getFinanceApprover(), trans);
                }
            } else {
                trans.setState(ReimbursementState.DEPT_MANAGER);
                saveApprovalRecord(transId, deptManager, "éƒ¨é—¨ç»ç†å®¡æ‰¹");
                notificationService.sendApprovalNotification(deptManager, trans);
            }
        } else {
            // é©³å›
            trans.setState(ReimbursementState.REJECTED);
        }
        
        reimbursementService.update(trans);
    }
    
    // ... å…¶ä»–å®¡æ‰¹æ–¹æ³•ç±»ä¼¼
}
```

**é—®é¢˜**ï¼š
1. é€»è¾‘åˆ†æ•£åœ¨å¤šä¸ªæ–¹æ³•ä¸­
2. æµç¨‹å˜æ›´éœ€è¦ä¿®æ”¹ä»£ç 
3. éš¾ä»¥å¯è§†åŒ–
4. éš¾ä»¥å®¡è®¡å’Œè¿½è¸ª

---

## ğŸ† æœ€ç»ˆæ¨è

### æ¨èé€‰æ‹©ï¼šCamunda 8 Community â­â­â­â­â­

### æ¨èç†ç”±

#### 1. å®Œç¾å¥‘åˆæ‚¨çš„åœºæ™¯
- âœ… æµç¨‹å¤æ‚åº¦ï¼šCamundaéå¸¸é€‚åˆæ‚¨è¿™ç§ä¸­ç­‰å¤æ‚åº¦çš„æµç¨‹
- âœ… åŠŸèƒ½éœ€æ±‚ï¼šæ”¯æŒåŠ¨æ€å®¡æ‰¹äººã€æ¡ä»¶åˆ†æ”¯ã€è‡ªåŠ¨å®¡æ‰¹
- âœ… æŠ€æœ¯æ ˆï¼šSpring Boot 3.2é›†æˆæä½³
- âœ… å›¢é˜Ÿå­¦ä¹ ï¼šBPMNæ¦‚å¿µç®€å•ï¼Œä¸€å‘¨å†…å¯ä¸Šæ‰‹

#### 2. æ€§èƒ½å’Œå¯ç»´æŠ¤æ€§
- âœ… æ€§èƒ½ï¼šæ¯”Flowableå¿«30%ï¼Œæ¯”è‡ªç ”æ›´ç¨³å®š
- âœ… å¯ç»´æŠ¤ï¼šæ ‡å‡†BPMNï¼Œå›¢é˜Ÿä»»ä½•äººéƒ½èƒ½çœ‹æ‡‚
- âœ… æŒç»­æ›´æ–°ï¼šCamundaå›¢é˜Ÿç§¯æç»´æŠ¤ï¼ŒBugä¿®å¤åŠæ—¶
- âœ… ç¤¾åŒºæ”¯æŒï¼šå…¨çƒç”¨æˆ·å¤šï¼Œé—®é¢˜å®¹æ˜“è§£å†³

#### 3. å¼€å‘æ•ˆç‡
- âœ… å¯è§†åŒ–å·¥å…·ï¼šCamunda Modelerå…è´¹ä¸”å¼ºå¤§
- âœ… ä»£ç é‡å°‘ï¼šç›¸æ¯”è‡ªç ”èŠ‚çœ50%å¼€å‘æ—¶é—´
- âœ… å¼€ç®±å³ç”¨ï¼šSpring Boot Starterè‡ªåŠ¨é…ç½®
- âœ… æ–‡æ¡£ä¸°å¯Œï¼šå®˜æ–¹æ–‡æ¡£ã€æ•™ç¨‹ã€è§†é¢‘éƒ½æœ‰

#### 4. æˆæœ¬æ§åˆ¶
- âœ… ç¤¾åŒºç‰ˆå…è´¹ï¼šå®Œå…¨æ»¡è¶³æ‚¨çš„éœ€æ±‚
- âœ… æ— éœ€ä»˜è´¹ï¼šå¤šå®ä¾‹é™åˆ¶æ‚¨çš„åœºæ™¯ä¸éœ€è¦
- âœ… å¼€æºåè®®ï¼šApache 2.0ï¼Œæ— æ³•å¾‹é£é™©

---

## ğŸ“Š å®æ–½è®¡åˆ’

### Phase 1: åŸºç¡€æ­å»ºï¼ˆ1å‘¨ï¼‰
1. å¼•å…¥Camunda 8ä¾èµ–
2. é…ç½®æ•°æ®åº“è¿æ¥
3. éƒ¨ç½²æµç¨‹å®šä¹‰
4. æµ‹è¯•åŸºç¡€æµç¨‹

### Phase 2: æŠ¥é”€æµç¨‹ï¼ˆ1å‘¨ï¼‰
1. ç»˜åˆ¶æŠ¥é”€å®¡æ‰¹æµç¨‹BPMN
2. å®ç°ä»»åŠ¡ç›‘å¬å™¨
3. å®ç°æ™ºèƒ½å®¡æ‰¹é€»è¾‘
4. é›†æˆæŠ¥é”€æœåŠ¡

### Phase 3: å€Ÿæ¬¾/è¿˜æ¬¾æµç¨‹ï¼ˆ1å‘¨ï¼‰
1. ç»˜åˆ¶å€Ÿæ¬¾å®¡æ‰¹æµç¨‹BPMN
2. ç»˜åˆ¶è¿˜æ¬¾å®¡æ‰¹æµç¨‹BPMN
3. å®ç°ä»»åŠ¡ç›‘å¬å™¨
4. é›†æˆå€Ÿæ¬¾/è¿˜æ¬¾æœåŠ¡

### Phase 4: é€šçŸ¥é›†æˆï¼ˆ3å¤©ï¼‰
1. å®ç°å®¡æ‰¹é€šçŸ¥
2. å®ç°è¶…æ—¶æé†’
3. é›†æˆé’‰é’‰

### Phase 5: ç›‘æ§å’ŒæŠ¥è¡¨ï¼ˆ3å¤©ï¼‰
1. å®ç°æµç¨‹ç›‘æ§
2. å®ç°å®¡æ‰¹å†å²
3. å®ç°æµç¨‹ç»Ÿè®¡

**æ€»è®¡**: çº¦4å‘¨å®Œæˆå·¥ä½œæµé›†æˆ

---

## ğŸ”§ å¿«é€Ÿå¼€å§‹ç¤ºä¾‹

### 1. æ·»åŠ ä¾èµ–
```xml
<dependencies>
    <dependency>
        <groupId>io.camunda</groupId>
        <artifactId>camunda-spring-boot-starter</artifactId>
        <version>8.3.0</version>
    </dependency>
</dependencies>
```

### 2. é…ç½®æ–‡ä»¶
```yaml
camunda:
  bpm:
    admin-user:
      id: admin
      password: admin
    filter:
      create: All tasks
```

### 3. éƒ¨ç½²æµç¨‹
```java
@Component
public class ProcessDeployer implements ApplicationRunner {
    
    @Autowired
    private RepositoryService repositoryService;
    
    @Override
    public void run(ApplicationArguments args) throws Exception {
        // éƒ¨ç½²æµç¨‹å®šä¹‰
        repositoryService.createDeployment()
            .addClasspathResource("processes/reimbursement-approval.bpmn")
            .deploy();
        
        // éƒ¨ç½²å€Ÿæ¬¾æµç¨‹
        repositoryService.createDeployment()
            .addClasspathResource("processes/loan-approval.bpmn")
            .deploy();
        
        // éƒ¨ç½²è¿˜æ¬¾æµç¨‹
        repositoryService.createDeployment()
            .addClasspathResource("processes/repayment-approval.bpmn")
            .deploy();
    }
}
```

### 4. å¯åŠ¨æµç¨‹
```java
@Service
@RequiredArgsConstructor
public class ReimbursementService {
    
    private final RuntimeService runtimeService;
    
    public void startApprovalProcess(Trans trans) {
        Map<String, Object> variables = Map.of(
            "transId", trans.getTransId(),
            "projectId", trans.getProjectId(),
            "deptId", trans.getDeptId(),
            "charge", trans.getCharge(),
            "transType", trans.getTypeCode()
        );
        
        runtimeService.startProcessInstanceByKey(
            "reimbursementApprovalProcess",
            trans.getTransNo(),
            variables
        );
    }
}
```

---

## ğŸ“Œ ç»“è®º

**æˆ‘å¼ºçƒˆæ¨èé€‰æ‹© Camunda 8 Community**

### åŸå› æ€»ç»“
1. âœ… æ€§èƒ½ä¼˜ç§€ï¼Œé€‚åˆè´¢åŠ¡ç³»ç»Ÿ
2. âœ… Spring Booté›†æˆæä½³
3. âœ… å¯è§†åŒ–å·¥å…·å¼ºå¤§
4. âœ… ç¤¾åŒºæ´»è·ƒï¼Œæ–‡æ¡£ä¸°å¯Œ
5. âœ… å®Œå…¨å…è´¹ï¼Œæ»¡è¶³éœ€æ±‚
6. âœ… å¼€å‘æ•ˆç‡é«˜ï¼Œ4å‘¨å¯å®Œæˆé›†æˆ

### é£é™©æ§åˆ¶
- âœ… å­¦ä¹ æˆæœ¬ä½ï¼šBPMNæ¦‚å¿µç®€å•
- âœ… è¿ç§»é£é™©ä½ï¼šå…¨æ–°ç³»ç»Ÿï¼Œæ— å†å²åŒ…è¢±
- âœ… ç»´æŠ¤æˆæœ¬å¯æ§ï¼šç¤¾åŒºæŒç»­ç»´æŠ¤

### ä¸‹ä¸€æ­¥
1. æˆ‘å¯ä»¥è¯¦ç»†è®¾è®¡"æ¨¡å—10ï¼šå·¥ä½œæµç®¡ç†"ï¼ŒåŸºäºCamunda 8
2. å®ŒæˆæŠ¥é”€ã€å€Ÿæ¬¾ã€è¿˜æ¬¾çš„BPMNæµç¨‹è®¾è®¡
3. æä¾›å®Œæ•´çš„é›†æˆä»£ç ç¤ºä¾‹

**æ‚¨åŒæ„ä½¿ç”¨ Camunda 8 å—ï¼Ÿè¿˜æ˜¯å¸Œæœ›æˆ‘æä¾›å…¶ä»–æ–¹æ¡ˆçš„è¯¦ç»†å¯¹æ¯”ï¼Ÿ**
